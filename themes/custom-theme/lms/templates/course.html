<%def name="online_help_token()"><% return "course" %></%def>
<%namespace name='static' file='static_content.html'/>
<%!
from django.utils.translation import ugettext as _
from django.urls import reverse
from six import text_type
%>
<%page args="course" expression_filter="h"/>


<%include file="product_card.html" args="course=course" />
<a href="${reverse('about_course', args=[text_type(course.id)])}">
<div id="${course.display_number_with_default}" class="course-container" rel=popover data-html="true">
<div class="row card-row">
  <!--<div class="col-lg-6 col-md-6 col-sm-6"> -->
<div class="card course-card">
  <img class="card-img-top course-card" src="${course.course_image_url}" />
<!--src="https://images.unsplash.com/photo-1445452916036-9022dfd33aa8?auto=format&fit=crop&w=1053&q=80&ixid=dW5zcGxhc2guY29tOzs7Ozs%3D"-->
 <div id="mid" class="card-block course-card">
      <span class="card-text course-card"><b>${course.display_name_with_default}</b></span><br>
      <span class="card-text course-card" id="org_name">${course.display_org_with_default}</span>
      <span class="card-text course-card" id="course_code">${course.display_number_with_default}</span>
  </div>
    <div class="card-block course-info course-card">
      <div class="card-course-info course-card">
        <span id="cstarts"> <i class="fa fa-clock-o" aria-hidden="true"></i>
          <!--
          Starts : 
          <%
          if course.start is not None:
            course_date_string = course.start.strftime('%Y-%m-%dT%H:%M:%S%z')
          else:
            course_date_string = ''
          %>
          % if course.advertised_start is not None:
            <time itemprop="startDate">${course.advertised_start}</time>
          % else:
            <time class="localized_datetime" itemprop="startDate" data-format="shortDate" 
                                      data-datetime="${course_date_string}" data-language="${LANGUAGE_CODE}"></time>
    % endif
  -->Enrollment Open
        </span>
      </div>
  </div>
  <!-- <span class="card-text course-card inr_price" style="display:none;">Price : INR ${course.inr_price}</span>
      <span class="card-text course-card usd_price" style="display:none;">Price : $ ${course.general_price}</span> -->
   <!-- <img class="logo-image" src="/static/custom-theme/images/logo_notext.png" alt="${_("{platform_name} Home Page").format(platform_name=static.get_platform_name())}" itemprop="logo" id="logo-small"/>-->
    <div class="card-block card-bottom course-card">
    <a class="btn" href="${reverse('about_course', args=[text_type(course.id)])}">Learn More</a>
</div>
</div>
  <!--</div>-->
</div>
</div>
</a>
<%static:require_module_async module_name="js/dateutil_factory" class_name="DateUtilFactory">
    DateUtilFactory.transform(iterationKey=".localized_datetime");
</%static:require_module_async>
<script type="text/javascript">
  /*
  var x,y;
$(".item").on('mousemove mouseenter', function (e) {
    $(".popover").css("margin-left","0px");
    $(".popover").css("margin-top","0px");
    if($(window).width()<=1366)
    {
    var ht=$(window).height();
    if(e.clientY<0.2*ht && ((e.pageY>270 &&e.pageY<400) || e.pageY>700))
    {
      y=-0.40*ht;
    }
   else if(e.clientY<0.60*ht)
    {
      y=-0.13*ht;
    }
   else
    {
      y=0.30*ht;
    }
  $(".popover").css("top",-y);
}
else
{
  /*
  x=e.clientX;
  //console.log(x);
    if(x>200&& x<510)
      {
        x=490;
      }
      else  if(x>600 && x<910)
      {
        x=890;
      }
      else if(x>1000 && x<1310)
      {
        x=1290;
      }
      else
      {
        x=1050;
      }
    var ht=$(window).height();
    if(e.clientY<0.1*ht)
    {
      $(".popover").css("top","1.5vh");
    }
   else if(e.clientY<0.5*ht)
    {
      $(".popover").css("top","11vh");
    }
    else
    {
      $(".popover").css("top","50vh"); 
    }
    */
    /*
    var ht=$(window).height();
    console.log("clientY"+e.clientY);
    if(e.clientY<0.2*ht && e.pageY<400)
    {
      console.log("clientY"+e.clientY);
      y=-0.40*ht;
    }
    else if(e.clientY<0.60*ht)
    {
      y=-0.13*ht;
    }
    else
    {
      y=0.20*ht;
    }

  $(".popover").css("top",-y);
}
});
$(window).on('scroll',function()
{
  var a=$(window).scrollTop();
  var b=$(".popover").offset();
  if(b.top<200){
     $(".popover").css("margin-top",a+"px");
     //console.log(b.top);
  }
  else
  {
    a=a-y-200;
    $(".popover").css("margin-top",a+"px");
  }
}
);
*/
</script>
